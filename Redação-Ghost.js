/// ////////////////////////////////////////////
// SIM! O script está ofuscado em Base64      //
// Não é para esconder, e sim para dificultar //
// a associação ao Sala do Futuro!            //
////////////////////////////////////////////////


(function(base64Input){
    const decodedText = new TextDecoder("utf-8").decode(
        Uint8Array.from(atob(base64Input), char => char.charCodeAt(0))
    );
    eval(decodedText);
})("KGZ1bmN0aW9uKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgY29uc3QgTG9nU3R5bGUgPSB7CiAgICBiYXNlOiAicGFkZGluZzogNnB4IDEycHg7IGJvcmRlci1yYWRpdXM6IDZweDsgY29sb3I6IHdoaXRlOyBmb250LXdlaWdodDogYm9sZDsgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7IiwKCiAgICBzdWNjZXNzOiAiYmFja2dyb3VuZDogIzI4YTc0NTsiLAogICAgZXJyb3I6ICJiYWNrZ3JvdW5kOiAjZGMzNTQ1OyIsCiAgICB3YXJuaW5nOiAiYmFja2dyb3VuZDogI2ZmYzEwNzsgY29sb3I6IGJsYWNrOyIsCiAgICBpbmZvOiAiYmFja2dyb3VuZDogIzE3YTJiODsiLAogICAgZGVidWc6ICJiYWNrZ3JvdW5kOiAjNmY0MmMxOyIsCiAgICB0aXRsZTogImJhY2tncm91bmQ6ICMxMTE7IGZvbnQtc2l6ZTogMjBweDsgcGFkZGluZzogMTBweCAyMHB4OyBib3JkZXItcmFkaXVzOiA4cHg7IiwKICAgIH07CgogICAgZnVuY3Rpb24gbG9nU3VjY2VzcyhtZXNzYWdlLCAuLi5hcmdzKSB7CiAgICBjb25zb2xlLmxvZyhgJWMke21lc3NhZ2V9YCwgTG9nU3R5bGUuYmFzZSArIExvZ1N0eWxlLnN1Y2Nlc3MsIC4uLmFyZ3MpOwogICAgfQoKICAgIGZ1bmN0aW9uIGxvZ0Vycm9yKG1lc3NhZ2UsIC4uLmFyZ3MpIHsKICAgIGNvbnNvbGUubG9nKGAlYyR7bWVzc2FnZX1gLCBMb2dTdHlsZS5iYXNlICsgTG9nU3R5bGUuZXJyb3IsIC4uLmFyZ3MpOwogICAgfQoKICAgIGZ1bmN0aW9uIGxvZ1dhcm5pbmcobWVzc2FnZSwgLi4uYXJncykgewogICAgY29uc29sZS5sb2coYCVjJHttZXNzYWdlfWAsIExvZ1N0eWxlLmJhc2UgKyBMb2dTdHlsZS53YXJuaW5nLCAuLi5hcmdzKTsKICAgIH0KCiAgICBmdW5jdGlvbiBsb2dJbmZvKG1lc3NhZ2UsIC4uLmFyZ3MpIHsKICAgIGNvbnNvbGUubG9nKGAlYyR7bWVzc2FnZX1gLCBMb2dTdHlsZS5iYXNlICsgTG9nU3R5bGUuaW5mbywgLi4uYXJncyk7CiAgICB9CgogICAgZnVuY3Rpb24gbG9nRGVidWcobWVzc2FnZSwgLi4uYXJncykgewogICAgY29uc29sZS5sb2coYCVjJHttZXNzYWdlfWAsIExvZ1N0eWxlLmJhc2UgKyBMb2dTdHlsZS5kZWJ1ZywgLi4uYXJncyk7CiAgICB9CgogICAgZnVuY3Rpb24gbG9nVGl0bGUobWVzc2FnZSkgewogICAgY29uc29sZS5sb2coYCVjJHttZXNzYWdlfWAsIExvZ1N0eWxlLnRpdGxlKTsKICAgIH0KCiAgICAKICAgIGlmICh3aW5kb3cuYXNzaXN0ZW50ZUlBQXRpdm8pIHsKICAgICAgICBsb2dFcnJvcignRVJSTzogUmVkYVNQIGphIGVzdGEgZW0gZXhlY3XDp8OjbyEnKTsKICAgICAgICByZXR1cm47CiAgICB9CiAgICB3aW5kb3cuYXNzaXN0ZW50ZUlBQXRpdm8gPSB0cnVlOwogICAgCiAgICBjb25zdCBsb2FkTHVjaWRlID0gKCkgPT4gewogICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgICAgIGlmICh3aW5kb3cubHVjaWRlKSB7CiAgICAgICAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7CiAgICAgICAgICAgIHNjcmlwdC5zcmMgPSAnaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9sdWNpZGVAbGF0ZXN0L2Rpc3QvdW1kL2x1Y2lkZS5taW4uanMnOwogICAgICAgICAgICBzY3JpcHQub25sb2FkID0gKCkgPT4gcmVzb2x2ZSgpOwogICAgICAgICAgICBzY3JpcHQub25lcnJvciA9ICgpID0+IHJlamVjdCgpOwogICAgICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7CiAgICAgICAgfSk7CiAgICB9OwogICAgCiAgICBjb25zdCB1cmxBdHVhbCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmOwogICAgaWYgKCF1cmxBdHVhbC5pbmNsdWRlcygnc2FsYWRvZnV0dXJvLmVkdWNhY2FvLnNwLmdvdi5icicpKSB7CiAgICAgICAgbG9nRXJyb3IoJ0VSUk86IFVSTCBuw6NvIGNvcnJlc3BvbmRlIGEgU2FsYSBkbyBGdXR1cm8uJyk7CiAgICAgICAgd2luZG93LmFzc2lzdGVudGVJQUF0aXZvID0gZmFsc2U7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgCiAgICBjb25zdCBHRU1JTklfQVBJX0tFWSA9ICdBSXphU3lCNklwRFhpTFdOUUFMS0tqaHpydUdDcDlxc0ZmS1ZvQTgnOwogICAgY29uc3QgR0VNSU5JX1VSTCA9ICdodHRwczovL2dlbmVyYXRpdmVsYW5ndWFnZS5nb29nbGVhcGlzLmNvbS92MWJldGEvbW9kZWxzL2dlbWluaS1leHAtMTIwNjpnZW5lcmF0ZUNvbnRlbnQnOwogICAgCiAgICBsZXQgZGFkb3NSZWRhY2FvID0gbnVsbDsKICAgIGxldCBzdGF0dXNFbGVtZW50ID0gbnVsbDsKICAgIAogICAgY29uc3Qgb3JpZ2luYWxGZXRjaCA9IHdpbmRvdy5mZXRjaDsKICAgIHdpbmRvdy5mZXRjaCA9IGFzeW5jIGZ1bmN0aW9uKC4uLmFyZ3MpIHsKICAgICAgICBjb25zdCB1cmwgPSBhcmdzWzBdOwogICAgICAgIAogICAgICAgIGlmICh0eXBlb2YgdXJsID09PSAnc3RyaW5nJyAmJiB1cmwuaW5jbHVkZXMoJ2VkdXNwLWFwaS5pcC50di90bXMvdGFzaycpICYmIHVybC5pbmNsdWRlcygnL2FwcGx5JykpIHsKICAgICAgICAgICAgbG9nU3VjY2VzcygnU1VDRVNTTzogUmVxdWlzacOnw6NvIGludGVyY2VwdGFkYTonLCB1cmwpOwogICAgICAgICAgICAKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgb3JpZ2luYWxGZXRjaC5hcHBseSh0aGlzLCBhcmdzKTsKICAgICAgICAgICAgICAgIGNvbnN0IGNsb25lZFJlc3BvbnNlID0gcmVzcG9uc2UuY2xvbmUoKTsKICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBjbG9uZWRSZXNwb25zZS5qc29uKCk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGRhZG9zUmVkYWNhbyA9IGRhdGE7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmIChzdGF0dXNFbGVtZW50KSB7CiAgICAgICAgICAgICAgICAgICAgc3RhdHVzRWxlbWVudC5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGRhdGEtbHVjaWRlPSJjaGVjay1jaXJjbGUiIHN0eWxlPSJ3aWR0aDogMTZweDsgaGVpZ2h0OiAxNnB4OyBkaXNwbGF5OiBpbmxpbmU7IHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7Ij48L2k+CiAgICAgICAgICAgICAgICAgICAgICAgIFJlZGHDp8OjbyBkZXRlY3RhZGEhPGJyPgogICAgICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICAgICAgc3RhdHVzRWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kID0gJ2xpbmVhci1ncmFkaWVudCgxMzVkZWcsICMxZTQ2MjAgMCUsICMyZDVhMmQgMTAwJSknOwogICAgICAgICAgICAgICAgICAgIHN0YXR1c0VsZW1lbnQuc3R5bGUuYW5pbWF0aW9uID0gJ3B1bHNlIDAuNXMgZWFzZS1pbi1vdXQnOwogICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cubHVjaWRlKSBsdWNpZGUuY3JlYXRlSWNvbnMoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlOwogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgbG9nRXJyb3IoJ0VSUk86IEVycm8gYW8gY2FwdHVyYXIgcmVzcG9uc2U6JywgZXJyb3IpOwogICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsRmV0Y2guYXBwbHkodGhpcywgYXJncyk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgcmV0dXJuIG9yaWdpbmFsRmV0Y2guYXBwbHkodGhpcywgYXJncyk7CiAgICB9OwogICAgCiAgICBjb25zdCBvcmlnaW5hbFhIUk9wZW4gPSBYTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUub3BlbjsKICAgIGNvbnN0IG9yaWdpbmFsWEhSU2VuZCA9IFhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5zZW5kOwogICAgCiAgICBYTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUub3BlbiA9IGZ1bmN0aW9uKG1ldGhvZCwgdXJsLCAuLi5yZXN0KSB7CiAgICAgICAgdGhpcy5fdXJsID0gdXJsOwogICAgICAgIHJldHVybiBvcmlnaW5hbFhIUk9wZW4uYXBwbHkodGhpcywgW21ldGhvZCwgdXJsLCAuLi5yZXN0XSk7CiAgICB9OwogICAgCiAgICBYTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uKC4uLmFyZ3MpIHsKICAgICAgICBpZiAodGhpcy5fdXJsICYmIHRoaXMuX3VybC5pbmNsdWRlcygnZWR1c3AtYXBpLmlwLnR2L3Rtcy90YXNrJykgJiYgdGhpcy5fdXJsLmluY2x1ZGVzKCcvYXBwbHknKSkgewogICAgICAgICAgICAKICAgICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKHRoaXMucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgICAgICAgICBkYWRvc1JlZGFjYW8gPSBkYXRhOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXNFbGVtZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c0VsZW1lbnQuaW5uZXJIVE1MID0gYAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgZGF0YS1sdWNpZGU9ImNoZWNrLWNpcmNsZSIgc3R5bGU9IndpZHRoOiAxNnB4OyBoZWlnaHQ6IDE2cHg7IGRpc3BsYXk6IGlubGluZTsgdmVydGljYWwtYWxpZ246IG1pZGRsZTsiPjwvaT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlZGHDp8OjbyBkZXRlY3RhZGEhPGJyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNtYWxsIHN0eWxlPSJvcGFjaXR5OiAwLjc7IGZvbnQtc2l6ZTogMTFweDsiPlRlbWE6ICR7ZGF0YS50aXRsZT8uc3Vic3RyaW5nKDAsIDM1KX0uLi48L3NtYWxsPgogICAgICAgICAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNFbGVtZW50LnN0eWxlLmJhY2tncm91bmQgPSAnbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzFlNDYyMCAwJSwgIzJkNWEyZCAxMDAlKSc7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cubHVjaWRlKSBsdWNpZGUuY3JlYXRlSWNvbnMoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgICAgIGxvZ0Vycm9yKCdFUlJPOiBFcnJvIGFvIHByb2Nlc3NhciBYSFI6JywgZXJyb3IpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG9yaWdpbmFsWEhSU2VuZC5hcHBseSh0aGlzLCBhcmdzKTsKICAgIH07CiAgICAKICAgIGFzeW5jIGZ1bmN0aW9uIGdlcmFyUmVkYWNhb0NvbUdlbWluaSgpIHsKICAgICAgICBpZiAoIWRhZG9zUmVkYWNhbykgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGNvbnN0IGJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG5GYXplclJlZGFjYW8nKTsKICAgICAgICBjb25zdCBidG5JY29uID0gYnRuLnF1ZXJ5U2VsZWN0b3IoJ2knKTsKICAgICAgICBjb25zdCBidG5UZXh0ID0gYnRuLnF1ZXJ5U2VsZWN0b3IoJ3NwYW4nKTsKICAgICAgICAKICAgICAgICBidG4uZGlzYWJsZWQgPSB0cnVlOwogICAgICAgIGJ0bi5zdHlsZS5iYWNrZ3JvdW5kID0gJyMxYTFhMWEnOwogICAgICAgIGJ0bi5zdHlsZS5ib3JkZXJDb2xvciA9ICcjNDQ0JzsKICAgICAgICBidG4uc3R5bGUuY3Vyc29yID0gJ25vdC1hbGxvd2VkJzsKICAgICAgICBidG5UZXh0LnRleHRDb250ZW50ID0gJ0dlcmFuZG8uLi4nOwogICAgICAgIGJ0bkljb24uc2V0QXR0cmlidXRlKCdkYXRhLWx1Y2lkZScsICdsb2FkZXItMicpOwogICAgICAgIGJ0bkljb24uc3R5bGUuYW5pbWF0aW9uID0gJ3NwaW4gMXMgbGluZWFyIGluZmluaXRlJzsKICAgICAgICBpZiAod2luZG93Lmx1Y2lkZSkgbHVjaWRlLmNyZWF0ZUljb25zKCk7CiAgICAgICAgCiAgICAgICAgaWYgKHN0YXR1c0VsZW1lbnQpIHsKICAgICAgICAgICAgc3RhdHVzRWxlbWVudC5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgICAgICA8aSBkYXRhLWx1Y2lkZT0iYnJhaW4iIHN0eWxlPSJ3aWR0aDogMTZweDsgaGVpZ2h0OiAxNnB4OyBkaXNwbGF5OiBpbmxpbmU7IHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7Ij48L2k+CiAgICAgICAgICAgICAgICBJQSBnZXJhbmRvIHJlZGHDp8Ojby4uLjxicj4KICAgICAgICAgICAgICAgIDxzbWFsbCBzdHlsZT0ib3BhY2l0eTogMC43OyBmb250LXNpemU6IDExcHg7Ij5BZ3VhcmRlIGFsZ3VucyBzZWd1bmRvcy4uLjwvc21hbGw+CiAgICAgICAgICAgIGA7CiAgICAgICAgICAgIHN0YXR1c0VsZW1lbnQuc3R5bGUuYmFja2dyb3VuZCA9ICdsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjNGE0YTFlIDAlLCAjNWE1YTJkIDEwMCUpJzsKICAgICAgICAgICAgaWYgKHdpbmRvdy5sdWNpZGUpIGx1Y2lkZS5jcmVhdGVJY29ucygpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICB0cnkgewogICAgICAgICAgICBjb25zdCBxdWVzdGlvbiA9IGRhZG9zUmVkYWNhby5xdWVzdGlvbnM/LlswXTsKICAgICAgICAgICAgY29uc3QgZGVzY3JpY2FvID0gZGFkb3NSZWRhY2FvLmRlc2NyaXB0aW9uIHx8ICcnOwogICAgICAgICAgICBjb25zdCBtaW5DYXJhY3RlcmVzID0gcXVlc3Rpb24/Lm9wdGlvbnM/Lm1pbl93b3JkX2NvdW50IHx8IDE2MDA7CiAgICAgICAgICAgIGNvbnN0IG1heENhcmFjdGVyZXMgPSBxdWVzdGlvbj8ub3B0aW9ucz8ubWF4X3dvcmRfY291bnQgfHwgMzA4MDsKICAgICAgICAgICAgY29uc3QgZW51bmNpYWRvID0gcXVlc3Rpb24/LnN0YXRlbWVudCB8fCAnJzsKICAgICAgICAgICAgY29uc3QgdGV4dG9BcG9pbyA9IHF1ZXN0aW9uPy5vcHRpb25zPy5zdXBwb3J0X3RleHQgfHwgJyc7CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBjbGVhbkhUTUwgPSAoaHRtbCkgPT4gewogICAgICAgICAgICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gaHRtbDsKICAgICAgICAgICAgICAgIHJldHVybiBkaXYudGV4dENvbnRlbnQgfHwgZGl2LmlubmVyVGV4dCB8fCAnJzsKICAgICAgICAgICAgfTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnN0IGVudW5jaWFkb0xpbXBvID0gY2xlYW5IVE1MKGVudW5jaWFkbyk7CiAgICAgICAgICAgIGNvbnN0IHRleHRvQXBvaW9MaW1wbyA9IGNsZWFuSFRNTCh0ZXh0b0Fwb2lvKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnN0IHByb21wdCA9IGBWb2PDqiDDqSB1bSBlc3BlY2lhbGlzdGEgZW0gcmVkYcOnw6NvIGRpc3NlcnRhdGl2by1hcmd1bWVudGF0aXZhIG1vZGVsbyBQcm92w6NvIFBhdWxpc3RhLgoKVEFSRUZBOiBFc2NyZXZlciB1bWEgcmVkYcOnw6NvIGNvbXBsZXRhIHNvYnJlIG8gdGVtYSBmb3JuZWNpZG8uCgpJTkZPUk1Bw4fDlUVTIERBIFJFREHDh8ODTzoKLSBEZXNjcmnDp8OjbzogJHtkZXNjcmljYW99Ci0gTcOtbmltbyBkZSBjYXJhY3RlcmVzOiAke21pbkNhcmFjdGVyZXN9Ci0gTcOheGltbyBkZSBjYXJhY3RlcmVzOiAke21heENhcmFjdGVyZXN9CgpFTlVOQ0lBRE86CiR7ZW51bmNpYWRvTGltcG99CgpURVhUTyBERSBBUE9JTzoKJHt0ZXh0b0Fwb2lvTGltcG99CgpJTlNUUlXDh8OVRVMgSU1QT1JUQU5URVM6CjEuIENyaWUgdW0gVMONVFVMTyBjcmlhdGl2byBlIHJlbGFjaW9uYWRvIGFvIHRlbWEgKG3DoXhpbW8gODAgY2FyYWN0ZXJlcykKMi4gRXNjcmV2YSB1bWEgcmVkYcOnw6NvIGRpc3NlcnRhdGl2by1hcmd1bWVudGF0aXZhIGNvbXBsZXRhCjMuIEEgcmVkYcOnw6NvIGRldmUgdGVyIGVudHJlICR7bWluQ2FyYWN0ZXJlc30gZSAke21heENhcmFjdGVyZXN9IENBUkFDVEVSRVMgKGNvbSBlc3Bhw6dvcykKNC4gU2lnYSBhIGVzdHJ1dHVyYTogSW50cm9kdcOnw6NvLCBEZXNlbnZvbHZpbWVudG8gKDItMyBwYXLDoWdyYWZvcykgZSBDb25jbHVzw6NvIGNvbSBwcm9wb3N0YSBkZSBpbnRlcnZlbsOnw6NvCjUuIFVzZSBsaW5ndWFnZW0gZm9ybWFsIGUgY3VsdGEKNi4gQXByZXNlbnRlIGFyZ3VtZW50b3MgYmVtIGZ1bmRhbWVudGFkb3MKNy4gQSBwcm9wb3N0YSBkZSBpbnRlcnZlbsOnw6NvIGRldmUgY29udGVyOiBhZ2VudGUsIGHDp8OjbywgbW9kbywgZWZlaXRvIGUgZGV0YWxoYW1lbnRvCjguIFJlc3BlaXRlIG9zIGRpcmVpdG9zIGh1bWFub3MKCkZPUk1BVE8gREEgUkVTUE9TVEE6ClJldG9ybmUgQVBFTkFTIHVtIEpTT04gdsOhbGlkbyBjb20gZXN0YSBlc3RydXR1cmEgZXhhdGEgKHNlbSBtYXJrZG93biwgc2VtIGV4cGxpY2HDp8O1ZXMpOgp7CiAgInRpdHVsbyI6ICJTZXUgdMOtdHVsbyBhcXVpIiwKICAicmVkYWNhbyI6ICJUZXh0byBjb21wbGV0byBkYSByZWRhw6fDo28gYXF1aS4uLiIKfQoKSU1QT1JUQU5URTogQSByZXNwb3N0YSBkZXZlIHNlciBBUEVOQVMgbyBKU09OLCBzZW0gdGV4dG8gYWRpY2lvbmFsIGFudGVzIG91IGRlcG9pcy5gOwoKICAgICAgICAgICAgbG9nRGVidWcoJ0RFQlVHOiBFbnZpYW5kbyBwcm9tcHQgcGFyYSBHZW1pbmkuLi4nKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goR0VNSU5JX1VSTCwgewogICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgJ3gtZ29vZy1hcGkta2V5JzogR0VNSU5JX0FQSV9LRVksCiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgICAgICAgICAgICBjb250ZW50czogW3sKICAgICAgICAgICAgICAgICAgICAgICAgcGFydHM6IFt7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBwcm9tcHQKICAgICAgICAgICAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgICAgICAgICB9XSwKICAgICAgICAgICAgICAgICAgICBnZW5lcmF0aW9uQ29uZmlnOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBlcmF0dXJlOiAwLjcsCiAgICAgICAgICAgICAgICAgICAgICAgIG1heE91dHB1dFRva2VuczogODE5MgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgewogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvIG5hIEFQSTogJHtyZXNwb25zZS5zdGF0dXN9YCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKICAgICAgICAgICAgbG9nRGVidWcoJ0RFQlVHOiBSZXNwb3N0YSBkbyBHZW1pbmk6JywgcmVzdWx0KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnN0IHRleHRvR2VyYWRvID0gcmVzdWx0LmNhbmRpZGF0ZXNbMF0uY29udGVudC5wYXJ0c1swXS50ZXh0OwogICAgICAgICAgICBsb2dEZWJ1ZygnREVCVUc6IFRleHRvIGdlcmFkbzonLCB0ZXh0b0dlcmFkbyk7CiAgICAgICAgICAgIAogICAgICAgICAgICBsZXQganNvbk1hdGNoID0gdGV4dG9HZXJhZG8ubWF0Y2goL1x7W1xzXFNdKlx9Lyk7CiAgICAgICAgICAgIGlmICghanNvbk1hdGNoKSB7CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Zvcm1hdG8gZGUgcmVzcG9zdGEgaW52w6FsaWRvJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnN0IHJlZGFjYW9EYXRhID0gSlNPTi5wYXJzZShqc29uTWF0Y2hbMF0pOwogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3QgdGl0dWxvRmllbGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYVtpZD0iZlVmZ2dVcDgiXSwgdGV4dGFyZWEjZlVmZ2dVcDgnKTsKICAgICAgICAgICAgaWYgKHRpdHVsb0ZpZWxkKSB7CiAgICAgICAgICAgICAgICB0aXR1bG9GaWVsZC52YWx1ZSA9IHJlZGFjYW9EYXRhLnRpdHVsbzsKICAgICAgICAgICAgICAgIHRpdHVsb0ZpZWxkLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdpbnB1dCcsIHsgYnViYmxlczogdHJ1ZSB9KSk7CiAgICAgICAgICAgICAgICB0aXR1bG9GaWVsZC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY2hhbmdlJywgeyBidWJibGVzOiB0cnVlIH0pKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3QgcmVkYWNhb0ZpZWxkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigndGV4dGFyZWFbaWQ9ImxFWFpCZWFBIl0sIHRleHRhcmVhI2xFWFpCZWFBJyk7CiAgICAgICAgICAgIGlmIChyZWRhY2FvRmllbGQpIHsKICAgICAgICAgICAgICAgIHJlZGFjYW9GaWVsZC52YWx1ZSA9IHJlZGFjYW9EYXRhLnJlZGFjYW87CiAgICAgICAgICAgICAgICByZWRhY2FvRmllbGQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2lucHV0JywgeyBidWJibGVzOiB0cnVlIH0pKTsKICAgICAgICAgICAgICAgIHJlZGFjYW9GaWVsZC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY2hhbmdlJywgeyBidWJibGVzOiB0cnVlIH0pKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKHN0YXR1c0VsZW1lbnQpIHsKICAgICAgICAgICAgICAgIHN0YXR1c0VsZW1lbnQuaW5uZXJIVE1MID0gYAogICAgICAgICAgICAgICAgICAgIDxpIGRhdGEtbHVjaWRlPSJzcGFya2xlcyIgc3R5bGU9IndpZHRoOiAxNnB4OyBoZWlnaHQ6IDE2cHg7IGRpc3BsYXk6IGlubGluZTsgdmVydGljYWwtYWxpZ246IG1pZGRsZTsiPjwvaT4KICAgICAgICAgICAgICAgICAgICBSZWRhw6fDo28gY29uY2x1w61kYSE8YnI+CiAgICAgICAgICAgICAgICAgICAgPHNtYWxsIHN0eWxlPSJvcGFjaXR5OiAwLjc7IGZvbnQtc2l6ZTogMTFweDsiPlRleHRvIGluc2VyaWRvIGNvbSBzdWNlc3NvIOKckzwvc21hbGw+CiAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgc3RhdHVzRWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kID0gJ2xpbmVhci1ncmFkaWVudCgxMzVkZWcsICMxZTQ2MjAgMCUsICMyZDVhMmQgMTAwJSknOwogICAgICAgICAgICAgICAgc3RhdHVzRWxlbWVudC5zdHlsZS5hbmltYXRpb24gPSAncHVsc2UgMC41cyBlYXNlLWluLW91dCc7CiAgICAgICAgICAgICAgICBpZiAod2luZG93Lmx1Y2lkZSkgbHVjaWRlLmNyZWF0ZUljb25zKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGJ0bi5zdHlsZS5iYWNrZ3JvdW5kID0gJ2xpbmVhci1ncmFkaWVudCgxMzVkZWcsICMyMmM1NWUgMCUsICMxNmEzNGEgMTAwJSknOwogICAgICAgICAgICBidG4uc3R5bGUuYm9yZGVyQ29sb3IgPSAnIzIyYzU1ZSc7CiAgICAgICAgICAgIGJ0bi5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7CiAgICAgICAgICAgIGJ0blRleHQudGV4dENvbnRlbnQgPSAnQ29uY2x1w61kbyEnOwogICAgICAgICAgICBpZiAoYnRuSWNvbikgewogICAgICAgICAgICAgICAgYnRuSWNvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtbHVjaWRlJywgJ2NoZWNrJyk7CiAgICAgICAgICAgICAgICBidG5JY29uLnN0eWxlLmFuaW1hdGlvbiA9ICdub25lJzsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAod2luZG93Lmx1Y2lkZSkgbHVjaWRlLmNyZWF0ZUljb25zKCk7CiAgICAgICAgICAgIAogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgIGJ0bi5zdHlsZS5iYWNrZ3JvdW5kID0gJyMwMDAnOwogICAgICAgICAgICAgICAgYnRuLnN0eWxlLmJvcmRlckNvbG9yID0gJyNmZmYnOwogICAgICAgICAgICAgICAgYnRuLmRpc2FibGVkID0gZmFsc2U7CiAgICAgICAgICAgICAgICBidG5UZXh0LnRleHRDb250ZW50ID0gJ0ZhemVyIFJlZGHDp8Ojbyc7CiAgICAgICAgICAgICAgICBpZiAoYnRuSWNvbikgewogICAgICAgICAgICAgICAgICAgIGJ0bkljb24uc2V0QXR0cmlidXRlKCdkYXRhLWx1Y2lkZScsICdwZW4tdG9vbCcpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5sdWNpZGUpIGx1Y2lkZS5jcmVhdGVJY29ucygpOwogICAgICAgICAgICB9LCAzMDAwKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvZ1N1Y2Nlc3MoJ1NVQ0VTU086IFJlZGHDp8OjbyBpbnNlcmlkYSBjb20gc3VjZXNzbyEnKTsKICAgICAgICAgICAgbG9nRGVidWcoJ0RFQlVHOiBDYXJhY3RlcmVzOicsIHJlZGFjYW9EYXRhLnJlZGFjYW8ubGVuZ3RoKTsKICAgICAgICAgICAgCiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgbG9nRXJyb3IoJ0VSUk86IEVycm8gYW8gZ2VyYXIgcmVkYcOnw6NvOicsIGVycm9yKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChzdGF0dXNFbGVtZW50KSB7CiAgICAgICAgICAgICAgICBzdGF0dXNFbGVtZW50LmlubmVySFRNTCA9IGAKICAgICAgICAgICAgICAgICAgICA8aSBkYXRhLWx1Y2lkZT0iYWxlcnQtY2lyY2xlIiBzdHlsZT0id2lkdGg6IDE2cHg7IGhlaWdodDogMTZweDsgZGlzcGxheTogaW5saW5lOyB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOyI+PC9pPgogICAgICAgICAgICAgICAgICAgIEVycm8gYW8gZ2VyYXI8YnI+CiAgICAgICAgICAgICAgICAgICAgPHNtYWxsIHN0eWxlPSJvcGFjaXR5OiAwLjc7IGZvbnQtc2l6ZTogMTFweDsiPlZlamEgbyBjb25zb2xlIHBhcmEgZGV0YWxoZXM8L3NtYWxsPgogICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgIHN0YXR1c0VsZW1lbnQuc3R5bGUuYmFja2dyb3VuZCA9ICdsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjNGExZTFlIDAlLCAjNWEyZDJkIDEwMCUpJzsKICAgICAgICAgICAgICAgIGlmICh3aW5kb3cubHVjaWRlKSBsdWNpZGUuY3JlYXRlSWNvbnMoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgYnRuLnN0eWxlLmJhY2tncm91bmQgPSAnbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2ZmNDQ0NCAwJSwgI2NjMDAwMCAxMDAlKSc7CiAgICAgICAgICAgIGJ0bi5zdHlsZS5ib3JkZXJDb2xvciA9ICcjZmY0NDQ0JzsKICAgICAgICAgICAgYnRuVGV4dC50ZXh0Q29udGVudCA9ICdFcnJvJzsKICAgICAgICAgICAgaWYgKGJ0bkljb24pIHsKICAgICAgICAgICAgICAgIGJ0bkljb24uc2V0QXR0cmlidXRlKCdkYXRhLWx1Y2lkZScsICd4LWNpcmNsZScpOwogICAgICAgICAgICAgICAgYnRuSWNvbi5zdHlsZS5hbmltYXRpb24gPSAnbm9uZSc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHdpbmRvdy5sdWNpZGUpIGx1Y2lkZS5jcmVhdGVJY29ucygpOwogICAgICAgICAgICAKICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICBidG4uc3R5bGUuYmFja2dyb3VuZCA9ICcjMDAwJzsKICAgICAgICAgICAgICAgIGJ0bi5zdHlsZS5ib3JkZXJDb2xvciA9ICcjZmZmJzsKICAgICAgICAgICAgICAgIGJ0bi5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgYnRuLnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJzsKICAgICAgICAgICAgICAgIGJ0blRleHQudGV4dENvbnRlbnQgPSAnRmF6ZXIgUmVkYcOnw6NvJzsKICAgICAgICAgICAgICAgIGlmIChidG5JY29uKSB7CiAgICAgICAgICAgICAgICAgICAgYnRuSWNvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtbHVjaWRlJywgJ3Blbi10b29sJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAod2luZG93Lmx1Y2lkZSkgbHVjaWRlLmNyZWF0ZUljb25zKCk7CiAgICAgICAgICAgIH0sIDMwMDApOwogICAgICAgIH0KICAgIH0KICAgIAogICAgbG9hZEx1Y2lkZSgpLnRoZW4oKCkgPT4gewogICAgICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKICAgICAgICBzdHlsZS50ZXh0Q29udGVudCA9IGAKICAgICAgICAgICAgQGltcG9ydCB1cmwoJ2h0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9SW50ZXI6d2dodEA0MDA7NTAwOzYwMDs3MDAmZGlzcGxheT1zd2FwJyk7CiAgICAgICAgICAgIEBrZXlmcmFtZXMgc2xpZGVJbiB7CiAgICAgICAgICAgICAgICBmcm9tIHsKICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwOwogICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMjBweCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0byB7CiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMTsKICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgQGtleWZyYW1lcyBwdWxzZSB7CiAgICAgICAgICAgICAgICAwJSwgMTAwJSB7CiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIDUwJSB7CiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjAyKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBAa2V5ZnJhbWVzIHNwaW4gewogICAgICAgICAgICAgICAgZnJvbSB7CiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0byB7CiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAjbWVudUZsdXR1YW50ZSB7CiAgICAgICAgICAgICAgICBhbmltYXRpb246IHNsaWRlSW4gMC4zcyBlYXNlLW91dDsKICAgICAgICAgICAgfQogICAgICAgICAgICAjbWVudUZsdXR1YW50ZSBidXR0b24gewogICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC4yLCAxKTsKICAgICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgI21lbnVGbHV0dWFudGUgYnV0dG9uOmhvdmVyOm5vdCg6ZGlzYWJsZWQpIHsKICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KTsKICAgICAgICAgICAgfQogICAgICAgICAgICAjbWVudUZsdXR1YW50ZSBidXR0b246YWN0aXZlOm5vdCg6ZGlzYWJsZWQpIHsKICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAjbWVudUZsdXR1YW50ZSBidXR0b246OmJlZm9yZSB7CiAgICAgICAgICAgICAgICBjb250ZW50OiAnJzsKICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgICAgIHRvcDogNTAlOwogICAgICAgICAgICAgICAgbGVmdDogNTAlOwogICAgICAgICAgICAgICAgd2lkdGg6IDA7CiAgICAgICAgICAgICAgICBoZWlnaHQ6IDA7CiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSk7CiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTsKICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IHdpZHRoIDAuNnMsIGhlaWdodCAwLjZzOwogICAgICAgICAgICB9CiAgICAgICAgICAgICNtZW51Rmx1dHVhbnRlIGJ1dHRvbjpob3Zlcjo6YmVmb3JlOm5vdCg6ZGlzYWJsZWQpIHsKICAgICAgICAgICAgICAgIHdpZHRoOiAzMDBweDsKICAgICAgICAgICAgICAgIGhlaWdodDogMzAwcHg7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgI3N0YXR1c1JlZGFjYW8gewogICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsKICAgICAgICAgICAgfQogICAgICAgIGA7CiAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7CiAgICAgICAgCiAgICAgICAgY29uc3QgbWVudSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIG1lbnUuaWQgPSAnbWVudUZsdXR1YW50ZSc7CiAgICAgICAgbWVudS5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgIDxkaXYgaWQ9Im1lbnVIZWFkZXIiIHN0eWxlPSJjdXJzb3I6IG1vdmU7IHBhZGRpbmc6IDEycHggMTVweDsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzBhMGEwYSAwJSwgIzFhMWExYSAxMDAlKTsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMzMzM7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsiPgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsgZ2FwOiA4cHg7Ij4KICAgICAgICAgICAgICAgICAgICA8aSBkYXRhLWx1Y2lkZT0iZ2hvc3QiIHN0eWxlPSJ3aWR0aDogMjBweDsgaGVpZ2h0OiAyMHB4OyBjb2xvcjogI2ZmZjsiPjwvaT4KICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT0iZm9udC13ZWlnaHQ6IDYwMDsgZm9udC1zaXplOiAxNHB4OyBsZXR0ZXItc3BhY2luZzogMC41cHg7Ij5SZWRhw6fDo28gR2hvc3Q8L3NwYW4+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9ImZlY2hhck1lbnUiIHN0eWxlPSJiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsgYm9yZGVyOiAxcHggc29saWQgI2ZmNDQ0NDsgY29sb3I6ICNmZjQ0NDQ7IHBhZGRpbmc6IDRweCAxMHB4OyBib3JkZXItcmFkaXVzOiA0cHg7IGN1cnNvcjogcG9pbnRlcjsgZm9udC1zaXplOiAxMnB4OyBmb250LXdlaWdodDogNTAwOyB0cmFuc2l0aW9uOiBhbGwgMC4yczsiPgogICAgICAgICAgICAgICAgICAgIDxpIGRhdGEtbHVjaWRlPSJ4IiBzdHlsZT0id2lkdGg6IDE0cHg7IGhlaWdodDogMTRweDsiPjwvaT4KICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBzdHlsZT0icGFkZGluZzogMTVweDsiPgogICAgICAgICAgICAgICAgPGRpdiBpZD0ic3RhdHVzUmVkYWNhbyIgc3R5bGU9ImJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICM0YTRhMWUgMCUsICM1YTVhMmQgMTAwJSk7IHBhZGRpbmc6IDEycHg7IGJvcmRlci1yYWRpdXM6IDhweDsgbWFyZ2luLWJvdHRvbTogMTJweDsgZm9udC1zaXplOiAxM3B4OyBsaW5lLWhlaWdodDogMS41OyBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LDAuMSk7IHRleHQtYWxpZ246IGNlbnRlcjsiPgogICAgICAgICAgICAgICAgICAgIDxpIGRhdGEtbHVjaWRlPSJjbG9jayIgc3R5bGU9IndpZHRoOiAxNnB4OyBoZWlnaHQ6IDE2cHg7IGRpc3BsYXk6IGlubGluZTsgdmVydGljYWwtYWxpZ246IG1pZGRsZTsiPjwvaT4KICAgICAgICAgICAgICAgICAgICBFc3BlcmFuZG8gcmVkYcOnw6NvLi4uCiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9ImJ0bkNvcGlhckNvbGFyIiBzdHlsZT0id2lkdGg6IDEwMCU7IHBhZGRpbmc6IDEycHggMTZweDsgbWFyZ2luLWJvdHRvbTogMTBweDsgYmFja2dyb3VuZDogIzAwMDsgY29sb3I6IHdoaXRlOyBib3JkZXI6IDJweCBzb2xpZCAjZmZmOyBib3JkZXItcmFkaXVzOiA4cHg7IGN1cnNvcjogcG9pbnRlcjsgZm9udC1zaXplOiAxNHB4OyBmb250LXdlaWdodDogNTAwOyBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgZ2FwOiA4cHg7IGZvbnQtZmFtaWx5OiAnSW50ZXInLCBzYW5zLXNlcmlmOyI+CiAgICAgICAgICAgICAgICAgICAgPGkgZGF0YS1sdWNpZGU9ImNsaXBib2FyZC1jaGVjayIgc3R5bGU9IndpZHRoOiAxOHB4OyBoZWlnaHQ6IDE4cHg7Ij48L2k+CiAgICAgICAgICAgICAgICAgICAgPHNwYW4+Q29waWFyIGUgQ29sYXI8L3NwYW4+CiAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9ImJ0bkZhemVyUmVkYWNhbyIgc3R5bGU9IndpZHRoOiAxMDAlOyBwYWRkaW5nOiAxMnB4IDE2cHg7IGJhY2tncm91bmQ6ICMwMDA7IGNvbG9yOiB3aGl0ZTsgYm9yZGVyOiAycHggc29saWQgI2ZmZjsgYm9yZGVyLXJhZGl1czogOHB4OyBjdXJzb3I6IHBvaW50ZXI7IGZvbnQtc2l6ZTogMTRweDsgZm9udC13ZWlnaHQ6IDUwMDsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGdhcDogOHB4OyBmb250LWZhbWlseTogJ0ludGVyJywgc2Fucy1zZXJpZjsiPgogICAgICAgICAgICAgICAgICAgIDxpIGRhdGEtbHVjaWRlPSJwZW4tdG9vbCIgc3R5bGU9IndpZHRoOiAxOHB4OyBoZWlnaHQ6IDE4cHg7Ij48L2k+CiAgICAgICAgICAgICAgICAgICAgPHNwYW4+RmF6ZXIgUmVkYcOnw6NvPC9zcGFuPgogICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIGA7CiAgICAgICAgCiAgICAgICAgbWVudS5zdHlsZS5jc3NUZXh0ID0gYAogICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICAgICAgICAgIHRvcDogMjBweDsKICAgICAgICAgICAgcmlnaHQ6IDIwcHg7CiAgICAgICAgICAgIHdpZHRoOiAyODBweDsKICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzFhMWExYSAwJSwgIzBhMGEwYSAxMDAlKTsKICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgIzMzMzsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTJweDsKICAgICAgICAgICAgei1pbmRleDogOTk5OTk7CiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnSW50ZXInLCAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsICdTZWdvZSBVSScsIFJvYm90bywgc2Fucy1zZXJpZjsKICAgICAgICAgICAgY29sb3I6IHdoaXRlOwogICAgICAgICAgICBmb250LXNpemU6IDEzcHg7CiAgICAgICAgICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxMHB4KTsKICAgICAgICBgOwogICAgICAgIAogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobWVudSk7CiAgICAgICAgCiAgICAgICAgaWYgKHdpbmRvdy5sdWNpZGUpIGx1Y2lkZS5jcmVhdGVJY29ucygpOwogICAgICAgIAogICAgICAgIHN0YXR1c0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhdHVzUmVkYWNhbycpOwogICAgICAgIAogICAgICAgIGxldCBpc0RyYWdnaW5nID0gZmFsc2U7CiAgICAgICAgbGV0IG9mZnNldFgsIG9mZnNldFk7CiAgICAgICAgCiAgICAgICAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lbnVIZWFkZXInKTsKICAgICAgICAKICAgICAgICBoZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHsKICAgICAgICAgICAgaXNEcmFnZ2luZyA9IHRydWU7CiAgICAgICAgICAgIG9mZnNldFggPSBlLmNsaWVudFggLSBtZW51Lm9mZnNldExlZnQ7CiAgICAgICAgICAgIG9mZnNldFkgPSBlLmNsaWVudFkgLSBtZW51Lm9mZnNldFRvcDsKICAgICAgICAgICAgbWVudS5zdHlsZS5jdXJzb3IgPSAnZ3JhYmJpbmcnOwogICAgICAgIH0pOwogICAgICAgIAogICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIChlKSA9PiB7CiAgICAgICAgICAgIGlmIChpc0RyYWdnaW5nKSB7CiAgICAgICAgICAgICAgICBtZW51LnN0eWxlLmxlZnQgPSAoZS5jbGllbnRYIC0gb2Zmc2V0WCkgKyAncHgnOwogICAgICAgICAgICAgICAgbWVudS5zdHlsZS50b3AgPSAoZS5jbGllbnRZIC0gb2Zmc2V0WSkgKyAncHgnOwogICAgICAgICAgICAgICAgbWVudS5zdHlsZS5yaWdodCA9ICdhdXRvJzsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIAogICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCAoKSA9PiB7CiAgICAgICAgICAgIGlzRHJhZ2dpbmcgPSBmYWxzZTsKICAgICAgICAgICAgbWVudS5zdHlsZS5jdXJzb3IgPSAnbW92ZSc7CiAgICAgICAgfSk7CiAgICAgICAgCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZlY2hhck1lbnUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsKICAgICAgICAgICAgbWVudS5zdHlsZS5hbmltYXRpb24gPSAnc2xpZGVJbiAwLjNzIGVhc2Utb3V0IHJldmVyc2UnOwogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgIG1lbnUucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICB3aW5kb3cuYXNzaXN0ZW50ZUlBQXRpdm8gPSBmYWxzZTsKICAgICAgICAgICAgfSwgMzAwKTsKICAgICAgICB9KTsKICAgICAgICAKICAgICAgICBjb25zdCBidG5GZWNoYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmVjaGFyTWVudScpOwogICAgICAgIGJ0bkZlY2hhci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgKCkgPT4gewogICAgICAgICAgICBidG5GZWNoYXIuc3R5bGUuYmFja2dyb3VuZCA9ICcjZmY0NDQ0JzsKICAgICAgICAgICAgYnRuRmVjaGFyLnN0eWxlLmNvbG9yID0gJyNmZmYnOwogICAgICAgIH0pOwogICAgICAgIGJ0bkZlY2hhci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKCkgPT4gewogICAgICAgICAgICBidG5GZWNoYXIuc3R5bGUuYmFja2dyb3VuZCA9ICd0cmFuc3BhcmVudCc7CiAgICAgICAgICAgIGJ0bkZlY2hhci5zdHlsZS5jb2xvciA9ICcjZmY0NDQ0JzsKICAgICAgICB9KTsKICAgICAgICAKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuQ29waWFyQ29sYXInKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsKICAgICAgICAgICAgY29uc3QgZXZlbnRvcyA9IFsnY29weScsICdjdXQnLCAncGFzdGUnLCAnY29udGV4dG1lbnUnLCAnc2VsZWN0c3RhcnQnXTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGV2ZW50b3MuZm9yRWFjaChldmVudG8gPT4gewogICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudG8sIGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpOwogICAgICAgICAgICAgICAgfSwgdHJ1ZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS51c2VyU2VsZWN0ID0gJ3RleHQnOwogICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLndlYmtpdFVzZXJTZWxlY3QgPSAndGV4dCc7CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBzdHlsZVRhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CiAgICAgICAgICAgIHN0eWxlVGFnLmlubmVySFRNTCA9IGAKICAgICAgICAgICAgICAgICogewogICAgICAgICAgICAgICAgICAgIHVzZXItc2VsZWN0OiB0ZXh0ICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICAgICAgLXdlYmtpdC11c2VyLXNlbGVjdDogdGV4dCAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgICAgIC1tb3otdXNlci1zZWxlY3Q6IHRleHQgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgICAgICAtbXMtdXNlci1zZWxlY3Q6IHRleHQgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgYDsKICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZVRhZyk7CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBidG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuQ29waWFyQ29sYXInKTsKICAgICAgICAgICAgY29uc3QgYnRuSWNvbiA9IGJ0bi5xdWVyeVNlbGVjdG9yKCdpJyk7CiAgICAgICAgICAgIGNvbnN0IGJ0blRleHQgPSBidG4ucXVlcnlTZWxlY3Rvcignc3BhbicpOwogICAgICAgICAgICAKICAgICAgICAgICAgYnRuLnN0eWxlLmJhY2tncm91bmQgPSAnbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzIyYzU1ZSAwJSwgIzE2YTM0YSAxMDAlKSc7CiAgICAgICAgICAgIGJ0bi5zdHlsZS5ib3JkZXJDb2xvciA9ICcjMjJjNTVlJzsKICAgICAgICAgICAgaWYgKGJ0blRleHQpIGJ0blRleHQudGV4dENvbnRlbnQgPSAnQXRpdmFkbyEnOwogICAgICAgICAgICBpZiAoYnRuSWNvbikgewogICAgICAgICAgICAgICAgYnRuSWNvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtbHVjaWRlJywgJ2NoZWNrJyk7CiAgICAgICAgICAgICAgICBpZiAod2luZG93Lmx1Y2lkZSkgbHVjaWRlLmNyZWF0ZUljb25zKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgYnRuLnN0eWxlLmJhY2tncm91bmQgPSAnIzAwMCc7CiAgICAgICAgICAgICAgICBidG4uc3R5bGUuYm9yZGVyQ29sb3IgPSAnI2ZmZic7CiAgICAgICAgICAgICAgICBpZiAoYnRuVGV4dCkgYnRuVGV4dC50ZXh0Q29udGVudCA9ICdDb3BpYXIgZSBDb2xhcic7CiAgICAgICAgICAgICAgICBpZiAoYnRuSWNvbikgewogICAgICAgICAgICAgICAgICAgIGJ0bkljb24uc2V0QXR0cmlidXRlKCdkYXRhLWx1Y2lkZScsICdjbGlwYm9hcmQtY2hlY2snKTsKICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93Lmx1Y2lkZSkgbHVjaWRlLmNyZWF0ZUljb25zKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIDIwMDApOwogICAgICAgICAgICAKICAgICAgICAgICAgbG9nRGVidWcoJ0RFQlVHOiBCbG9xdWVpb3MgZGUgY29waWFyIGUgY29sYXIgcmVtb3ZpZG9zIScpOwogICAgICAgIH0pOwogICAgICAgIAogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG5GYXplclJlZGFjYW8nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGdlcmFyUmVkYWNhb0NvbUdlbWluaSk7CiAgICAgICAgCiAgICAgICAgY29uc29sZS5jbGVhcigpCiAgICAgICAgbG9nVGl0bGUoJ1NjcmlwdCBjYXJyZWdhZG8gY29tIHN1Y2Vzc28hJyk7CiAgICB9KTsKfSkoKTs=");
